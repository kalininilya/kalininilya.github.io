"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function updateCircle(e,t){var i=document.querySelector("#svg #bar"),r=i.getAttribute("r"),s=Math.PI*(2*r);e<0&&(e=0),e>100&&(e=100);var n=(100-e)/100*s;i.style.strokeDashoffset=n,document.querySelector("#cont").setAttribute("data-pct",t)}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),Timer=function(){function e(t,i){_classCallCheck(this,e),this.defaultWorkTime=t,this.defaultBreakTime=i,this.workTime=t,this.breakTime=i,this.paused=!1,this.modeBreak=!1,this.timeout=null,this.running=!1}return _createClass(e,[{key:"formatTime",value:function(e){var t=e%60;return 1==t.toString().length&&(t="0"+t),Math.floor(e/60)+":"+t}},{key:"tick",value:function(){var e=this;1===this.workTime&&(this.modeBreak=!0,this.workTime=this.defaultWorkTime),1===this.breakTime&&(this.modeBreak=!1,this.breakTime=this.defaultWorkTime),this.paused||this.modeBreak||(this.timeout=setTimeout(function(){e.workTime-=1,e.renderTimer(),e.tick()},1e3)),!this.paused&&this.modeBreak&&(this.timeout=setTimeout(function(){e.breakTime-=1,e.renderTimer(),e.tick()},1e3))}},{key:"start",value:function(){clearTimeout(this.timeout),this.workTime=this.defaultWorkTime,this.breakTime=this.defaultBreakTime,this.paused=!1,this.running=!0,this.modeBreak=!1,document.querySelector(".pause-resume-btn").innerHTML="pause",this.tick()}},{key:"togglePause",value:function(){this.paused=!this.paused,this.paused&&this.running&&(clearTimeout(this.timeout),document.querySelector(".pause-resume-btn").innerHTML="resume"),!this.paused&&this.running&&(this.tick(),document.querySelector(".pause-resume-btn").innerHTML="pause")}},{key:"renderTimer",value:function(){updateCircle(this.workTime/this.defaultWorkTime*100,this.formatTime(this.workTime))}}]),e}(),timer=new Timer(1500,300),startBtn=document.querySelector(".start-btn");startBtn.addEventListener("click",timer.start.bind(timer));var pauseResumeBtn=document.querySelector(".pause-resume-btn");pauseResumeBtn.addEventListener("click",timer.togglePause.bind(timer));